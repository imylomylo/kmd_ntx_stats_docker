{% extends "base.html" %}
{% load static %}
{% block content %}
	<div class="row col-12 mx-auto my-2" style="color: #b9b5b5;">
		<div class="card m-auto">
			<div class="card-header col-12 m-auto">
				<h2 style="min-width: 36em;">{{ page_title }}</h2>
				<form>
				  <div class="input-group mb-3 ">
				    <div class="input-group-prepend p-0" >
				      <span class="input-group-text  " style="color:white; border: solid grey 1px !important; line-height: 1em;">
				      	Enter Pubkey
				      </span>
				    </div>
				    <input type="text" class="form-control m-auto " id="opret_id" name="pubkey" placeholder="{{ pubkey }}"  style="border: solid grey 1px !important; font-size: 1em; line-height: 0.7em; text-align: center; min-width: 44em">
				    <div class="input-group-append p-0  ">
						<button class="append-btn"style="line-height: 1em; border: solid grey 1px !important;">
						    Get Scripthash
						</button>
				    </div>
				  </div>
				</form>
			</div>
			{% if resp_rows %}
			<div class="card-body m-auto col-12">

				{% for item in resp_rows %}
				  <div class="input-group mb-1 ">
				    <div class="input-group-prepend p-0 col-2 " >
				      <span class="input-group-text col-12 " style="border: solid grey 1px !important; line-height: 1em; color:
	#82F4E6 !important;">
				      	{{ item.key }}
				    </div>
				    <input type="text" class="form-control col-10 " style="border: solid grey 1px !important; font-size: 1em; line-height: 1em;" placeholder="{{ item.value }}" value="{{ item.value }}" readonly id="x_{{ item.value }}">
				    <div class="input-group-append p-0 " style="border: solid grey 1px !important;">
						<button class="append-btn" data-clipboard-target="#x_{{ item.value }}" style="line-height: 1em; font-size: 0.8em">
						    <i class="cil-copy"></i>
						</button>
				    </div>
				  </div>
				{% endfor %}
			</div>
			{% endif %}
		</div>	
	</div>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.8/clipboard.min.js"></script>
    <!-- jquery -->  
  	<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script> 
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  	
	<script>

		function setTooltip(mdi, message) {
		  $(mdi).tooltip('hide')
		    .attr('data-original-title', message)
		    .tooltip('show');
		}

		function hideTooltip(mdi) {
		  setTimeout(function() {
		    $(mdi).tooltip('hide');
		  }, 1000);
		}

		var btns = document.querySelectorAll('button');
		var clipboard = new ClipboardJS(btns);

		clipboard.on('success', function (e) {
			setTooltip(e.trigger, 'Copied!');
			hideTooltip(e.trigger);
		});

		clipboard.on('error', function (e) {
			console.log(e);
		});
	</script>
  	<!--
  	<script>
	    $(document).ready(function() {
	        $('#opret_table').DataTable({ 
	        	sDom: 'lrtip',
        		order: [[ 0, 'asc' ]],
	        	"columns": [
			        { "data": "key" },
			        { "data": "value" }
			    ]
	        });
	        $('#opret_table_length').css({'display':'none'});
	        $('#opret_table_paginate').css({'display':'none'});
	        $('#opret_table_info').css({'display':'none'});
	    });
    </script> 
-->
{% endblock %}
