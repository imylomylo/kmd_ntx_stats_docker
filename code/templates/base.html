{% load static %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
        <meta name="description" content="Komodo Platform dPoW Notary Node Stats">
        <meta name="author" content="smk">
        <meta name="keyword" content="komodo,kmd,notary,stats,dpow,jl777, notarisation">
        <title>Komodo Notary Stats - {{ page_title }}</title>
        <link rel="icon" type="image/png" href="{% static 'img/brand/favicon.png' %}" />


        <!--
            PLUGINS:
            - Bootstrap 4 (https://getbootstrap.com)
            - Jquery 3.6 (https://code.jquery.com)
            - ChartJS 3.5 (https://www.chartjs.org/)
            - Datatables 1.11.2 (https://datatables.net/)

        -->

        <!-- Bootstrap -->        
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

        <!-- Google Fonts -->
        <link href='https://fonts.googleapis.com/css?family=Rubik' rel='stylesheet'>

        <!-- Font Awesome -->
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.13.0/css/all.css">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.13.0/css/v4-shims.css">

        <!-- Core UI -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery.perfect-scrollbar/1.5.2/css/perfect-scrollbar.min.css" integrity="sha512-ygIxOy3hmN2fzGeNqys7ymuBgwSCet0LVfqQbWY10AszPMn2rB9JY0eoG0m1pySicu+nvORrBmhHVSt7+GI9VA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
        <link rel="stylesheet" href="https://unpkg.com/@coreui/coreui@3.4.0/dist/css/coreui.min.css">
        <link rel="stylesheet" href="https://unpkg.com/@coreui/icons/css/all.min.css">

        <!-- Select2 JS https://select2.org/ --> 
        <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />

        <!-- Datepicker -->
        <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css" rel="stylesheet">

        <!-- Datetimepicker -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-datetimepicker/2.5.20/jquery.datetimepicker.min.css" integrity="sha512-f0tzWhCwVFS3WeYaofoLWkTP62ObhewQ1EZn65oSYDZUg1+CyywGKkWzm8BxaJj5HGKI72PnMH9jYyIFz+GH7g==" crossorigin="anonymous" referrerpolicy="no-referrer" />

        <!-- Datatables -->
        <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs4-4.1.1/jq-3.3.1/jszip-2.5.0/dt-1.10.21/b-1.6.2/b-html5-1.6.2/b-print-1.6.2/sp-1.1.0/datatables.min.css"/>
        <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/select/1.3.3/css/select.dataTables.min.css"/>


        <!-- jquery -->
        <link rel="stylesheet" href="//code.jquery.com/ui/1.13.0/themes/base/jquery-ui.css">
        <link rel="stylesheet" href="/resources/demos/style.css">
        <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
        <script src="https://code.jquery.com/ui/1.13.0/jquery-ui.js"></script>

        <link href="{% static 'css/style.css' %}" rel="stylesheet">

        <!-- Komodo Pallet
        <link href="{% static 'css/kmd.css' %}" rel="stylesheet">
        -->

        <!-- Komodo Pallet -->

        {% include "css/kmd.css" %}
    </head>
    <body class="c-app">
        {% include "base_sidebar.html" %}
        <div class="c-wrapper">
            {% include "base_header.html" %}
            <div class="c-body body_bg">
              <main class="c-main">
                <div class="container text-center">
                    <div id="ui-view">
                        <div class="fade-in">
                            {% include "js/charts.js" %}

                            {% if messages %}
                                {% for message in messages %}
                                    {% include "components/messages.html" %}
                                {% endfor %}
                            {% endif %}

                            {% if sidebar_links.server == 'dev' %}
                                    {% include "components/dev_msg.html" %}
                            {% endif %}

                            {% block content %}
                            {% endblock %}

                        </div>
                    </div>
                </div>
              </main>
            </div>
            {% include "base_footer.html" %}        
        </div> 


        <!-- ChartJS -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.bundle.min.js"></script>

        <!-- CoreUI for Bootstrap Bundle with Popper -->
        <script src="https://unpkg.com/@popperjs/core@2.10.1/dist/umd/popper.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.perfect-scrollbar/1.5.2/perfect-scrollbar.min.js" integrity="sha512-byagY9YdfRsmvM/9ld4XQ9mvd9uNhNOaMzvCYpPw1CLuoIXAdWR8/6rHjRwuWy0Pi+JGWjDHiE7tVGhtPd21ZQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        <script src="https://unpkg.com/@coreui/coreui@3.4.0/dist/js/coreui.bundle.min.js"></script>

        <!--[if IE]><!-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/svgxuse/1.2.6/svgxuse.min.js"></script>
        <!--<![endif]-->

        <!-- Data Tables-->     
        <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs4/dt-1.11.2/b-2.0.0/b-html5-2.0.0/date-1.1.1/sp-1.4.0/datatables.min.css"/>
 
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>
        <script type="text/javascript" src="https://cdn.datatables.net/v/bs4/dt-1.11.2/b-2.0.0/b-html5-2.0.0/date-1.1.1/sp-1.4.0/datatables.min.js"></script>

        <!-- Select2JS -->
        <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

        <!-- ClipboardJS -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.8/clipboard.min.js"></script>

        <!-- DateTimePicker -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-datetimepicker/2.5.20/jquery.datetimepicker.full.min.js" integrity="sha512-AIOTidJAcHBH2G/oZv9viEGXRqDNmfdPVPYOYKGy3fti0xIplnlgMHUGfuNRzC6FkzIo0iIxgFnr9RikFxK+sw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

        <script>
            Chart.defaults.global.defaultFontColor = 'white';
            Chart.defaults.global.defaultFontSize = 14;

            $(function () {
                $('[data-toggle="tooltip"]').tooltip()
            })

            function setTooltip(mdi, message) {
              $(mdi).tooltip('hide')
                .attr('data-original-title', message)
                .tooltip('show');
            }

            function hideTooltip(mdi) {
              setTimeout(function() {
                $(mdi).tooltip('hide');
              }, 1000);
            }

            var btns = document.querySelectorAll('button');
            var clipboard = new ClipboardJS(btns);

            clipboard.on('success', function (e) {
                setTooltip(e.trigger, 'Copied!');
                hideTooltip(e.trigger);
            });

            clipboard.on('error', function (e) {
                console.log(e);
            });

            function update_dt_search(id) {
                filter_div = '<div class="col-6 input-group-prepend px-0 ml-auto"><span class="input-group-text col-4">Search: </span><input type="search" class="col-8 ml-0 mr-3 form-control form-control-sm" placeholder="" aria-controls="'+id+'"></div>'
                $("#"+id+"_filter").html(filter_div)
                $("#"+id+"_filter").on("keyup", 'input', function() {
                    $("#"+id).DataTable().search(this.value.trim(), false, false).draw();
                });

            }

            function update_dt_length(id) {

                custom_select = '<div class="col-6 input-group-prepend px-0 mr-auto"><span class="input-group-text col-4">Show </span><select id="tbl_select" name="'+id+'_length" aria-controls="'+id+'" class="custom-select custom-select-sm form-control form-control-sm"><option value="10">10</option><option value="25" selected>25</option><option value="50">50</option><option value="100">100</option></select><span class="input-group-text std-append col-4"> Rows</span></div>'
                $("#"+id+"_length").html(custom_select)
                $("#"+id).DataTable().page.len(50).draw();
                $("#tbl_select").on("change", function() {
                    $("#"+id).DataTable().page.len(parseInt(this.value)).draw();
                });
                


            }
            
            $(document).ready(function() {
                // Custom DataTables search filter input styling
                var dt_ids = [];
                $(".dataTable").each(function(){
                    dt_ids.push($(this).attr("id"));
                });
                
                for (i = 0; i < dt_ids.length; i++) {
                    console.log(dt_ids[i])
                    update_dt_search(dt_ids[i]);
                    update_dt_length(dt_ids[i]);
                }
            })
        $('#since').select2();
        $('#id_base').select2();
        $('#id_rel').select2();
        $('#id_coin').select2();
        /*
        $( "#pct_slider" ).slider({
            min: 0,
            max: 100
        });
        */

        $('.dt_picker').datetimepicker({
            theme:'dark', 
            maxDate:new Date(),
        });

        </script>
        {% include "plugins/statcounter.js" %}
    </body>
</html>
