{% extends "base.html" %}
{% load static %}
{% load coin_filter %}

{% block content %}

	<div class="row col-12 m-auto">
		<div class="card table_card">
			<div class="card-header table_card_title flex">
				AtomicDEX API Coin Activation Commands
			</div>
			<div class="card-body table_card_body">
			<div>
				<p>
					To generate a batch activation command, you can <a href="//{{ request.get_host }}/atomicdex/batch_activation_form/">use the form</a>
				</p>
			</div>

				<div class="card-body table_card_body">
					<table id="commands_table" class="table table-striped table-bordered">
						<thead>
							<tr>
								<th data-data="coin">Coin</th>
								<th data-data="command">Command</th>
							</tr>
						</thead>
						<tbody>

							{% for protocol, protocol_coins in activation_data.items %}
								{% for coin, command in protocol_coins.items %}
								<tr>
									<td style="font-size:0.8rem" data-data="coin">{{ coin }}</td>
									<td style="font-size:0.7rem; color:#969696" data-data="command">
				    					<span id="_{{ coin }}_command" class="p-2">{{ command|json_str }}</span>
									</td>
								</tr>
								{% endfor %}
							{% endfor %}
						</tbody>
					</table>
				</div>
		    </div>
	    </div>
	</div>
  	
  	<script>
	    $(document).ready(function() {
	        $('#commands_table').DataTable({
	           "paging": false,
    			deferRender: true,
                "orderClasses": false,
        		order: [[ 0, 'asc' ], [ 1, 'asc' ]],
        		"columnDefs": [
			        {
			            "data": "coin",
		                "targets": 0
		            },
        			{
			            "data": "command",
			            "targets": 1
			        }
        		]
	        });
	    });
	</script>
{% endblock %}
